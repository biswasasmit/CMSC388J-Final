{% extends "header.html" %}
{% block content %}
<div class="row">
    {# Display any error messages #}
    {% if err_msg %}
        <div class="col alert alert-warning">
            <p>{{ err_msg }} Return <a href={{ url_for('main.index') }}>home</a>.</p>
        </div>
    {% endif %}
</div>
{% if user %}
{% if user.profile_pic %}
<div class="text-center">
    <img class="mr-3 propic propic-large user-detail center" src="{{ url_for('users.images', username=user.username) }}" />
</div>
{% endif %}
<div class="row">
    <div class="col">
        <h1>{{ user.username }}'s reviews</h1>
    </div>
</div>
{% if not reviews %}
    <div class="row"><div class="col">This user has not posted any reviews yet!</div></div>
{% endif %}
{% for review in reviews %}
    <div class="row">
        <div class="col">
            <a href="{{ url_for('games.game_detail', game_id=review.game_id) }}">{{ review.game_title }}</a>
        </div>
        <div class="col">
            {{ review.content }}
        </div>
        <div class="col">
            {{ review.date }}
        </div>
    </div>
{% endfor %}
{% endif %}

{% if user %}
<div class="row">
    <div class="col">
        <h1>{{ user.username }}'s saved games</h1>
    </div>
</div>
{% if not games %}
    <div class="row"><div class="col">This user has not saved any games yet!</div></div>
{% endif %}
{% for game in games %}
    <div class="row">
        <div class="col">
            <a href="{{ url_for('games.game_detail', game_id=game.game_id) }}">{{ game.name }}</a>
        </div>
    </div>
{% endfor %}
{% endif %}

{% if user %}
<div class="row">
    <div class="col">
        <h1>{{ user.username }}'s played games</h1>
    </div>
</div>
{% if not played %}
    <div class="row"><div class="col">This user has not played any games yet!</div></div>
{% endif %}
{% for played in played %}
    <div class="row">
        <div class="col">
            <a href="{{ url_for('games.game_detail', game_id=played.game.game_id) }}">{{ played.game.name }}</a>
        </div>
        <div class="col">
            {{ played.review }}
        </div>
        <div class="col">
            Finished on {{ played.finished_on }}
        </div>
    </div>
{% endfor %}
{% endif %}
{% endblock %}